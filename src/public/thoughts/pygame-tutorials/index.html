<!doctype html>
<html
  lang="zh-cn"
  dir="ltr"
  class="scroll-smooth"
  data-default-appearance="dark"
  data-auto-appearance="false"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="zh-cn" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>Pygame入门到入土 &middot; 首页</title>
  <meta name="title" content="Pygame入门到入土 &middot; 首页" />
  
  <meta name="description" content="Pygame 游戏开发完整教程，包含环境配置、基本用法、图形学、UI交互和项目实战" />
  <meta name="keywords" content="Pygame, 游戏开发, Python, 教程, 学习, 开发, 编程, " />
  
  
  <link rel="canonical" href="//localhost:1313/thoughts/pygame-tutorials/" />
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/css/main.bundle.min.75efbde0b99ff286fae6f03226990076e6f98602b18d149b71f05e113f0fc7184122892266ac783102fe78fdbd53798b33201d9f3b7e00286104f2b671d240e7.css"
    integrity="sha512-de&#43;94Lmf8ob65vAyJpkAdub5hgKxjRSbcfBeET8PxxhBIokiZqx4MQL&#43;eP29U3mLMyAdnzt&#43;AChhBPK2cdJA5w==" />
  
  
  <script type="text/javascript" src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
  
  
  
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.bbc8dde0b636dfba88adfae8e405171481feff60d739793c7fc554106ba10668f5b613319c1cc3cc1540ddd9c9729b4f5548e53a373eb28910851d353f35a39c.js"
    integrity="sha512-u8jd4LY237qIrfro5AUXFIH&#43;/2DXOXk8f8VUEGuhBmj1thMxnBzDzBVA3dnJcptPVUjlOjc&#43;sokQhR01PzWjnA==" data-copy="复制" data-copied="已复制"></script>
  
  
  
  <script src="/lib/zoom/zoom.min.f592a181a15d2a5b042daa7f746c3721acf9063f8b6acd175d989129865a37d400ae0e85b640f9ad42cd98d1f8ad30931718cf8811abdcc5fcb264400d1a2b0c.js" integrity="sha512-9ZKhgaFdKlsELap/dGw3Iaz5Bj&#43;Las0XXZiRKYZaN9QArg6FtkD5rULNmNH4rTCTFxjPiBGr3MX8smRADRorDA=="></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  
  <meta property="og:url" content="//localhost:1313/thoughts/pygame-tutorials/">
  <meta property="og:site_name" content="首页">
  <meta property="og:title" content="Pygame入门到入土">
  <meta property="og:description" content="Pygame 游戏开发完整教程，包含环境配置、基本用法、图形学、UI交互和项目实战">
  <meta property="og:locale" content="zh_cn">
  <meta property="og:type" content="article">
    <meta property="article:section" content="thoughts">
    <meta property="article:published_time" content="2025-08-02T19:14:37+08:00">
    <meta property="article:modified_time" content="2025-08-02T19:14:37+08:00">
    <meta property="article:tag" content="Pygame">
    <meta property="article:tag" content="游戏开发">
    <meta property="article:tag" content="Python">
    <meta property="article:tag" content="教程">
    <meta property="article:tag" content="学习">
    <meta property="article:tag" content="开发">
    <meta property="og:image" content="//localhost:1313/thoughts/pygame-tutorials/featured.jpg">

  
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="//localhost:1313/thoughts/pygame-tutorials/featured.jpg">
  <meta name="twitter:title" content="Pygame入门到入土">
  <meta name="twitter:description" content="Pygame 游戏开发完整教程，包含环境配置、基本用法、图形学、UI交互和项目实战">

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "随笔",
    "name": "Pygame入门到入土",
    "headline": "Pygame入门到入土",
    "description": "Pygame 游戏开发完整教程，包含环境配置、基本用法、图形学、UI交互和项目实战",
    
    "inLanguage": "zh-cn",
    "url" : "\/\/localhost:1313\/thoughts\/pygame-tutorials\/",
    "author" : {
      "@type": "Person",
      "name": " "
    },
    "copyrightYear": "2025",
    "dateCreated": "2025-08-02T19:14:37\u002b08:00",
    "datePublished": "2025-08-02T19:14:37\u002b08:00",
    
    "dateModified": "2025-08-02T19:14:37\u002b08:00",
    
    "keywords": ["Pygame","游戏开发","Python","教程","学习","开发","编程"],
    
    "mainEntityOfPage": "true",
    "wordCount": "2494"
  }]
  </script>


  
  
  <meta name="author" content=" " />
  
  
  
  
  <link href="https://github.com/bin549" rel="me" />
  
  
  
  
  <link href="https://bin549.itch.io" rel="me" />
  
  
  
  
  <link href="https://learn.stem-powered.com/course/creator?id=11" rel="me" />
  
  
  
  
  <link href="https://afdian.com/a/bin549" rel="me" />
  
  
  
  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>






















  
  




  
  
  
  
  <meta name="theme-color"/>
  
  

  
  
</head>
<body
    class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
    <div id="the-top" class="absolute flex self-center">
      <a
        class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
        href="#main-content"
        ><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>跳过正文</a
      >
    </div>
    
    
      <div class="min-h-[148px]"></div>
<div
  class="fixed inset-x-0 min-h-[130px] opacity-65 pl-[24px] pr-[24px] bg-gradient-to-b from-neutral from-60% dark:from-neutral-800 to-transparent mix-blend-normal z-index-80"></div>
<div class="fixed inset-x-0 pl-[24px] pr-[24px] z-index-100">
  <div
    id="menu-blur"
    class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div>
  <div class="relative max-w-[64rem] ml-auto mr-auto">
    <div class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3 padding-main-menu">
    
    
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">首页</a>
            

        </nav>
        <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">

            
            
            
  <a
  href="/thoughts/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
    <span class="mr-1">
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M368 128C368 172.4 342.6 211.5 304 234.4V256C304 273.7 289.7 288 272 288H176C158.3 288 144 273.7 144 256V234.4C105.4 211.5 80 172.4 80 128C80 57.31 144.5 0 224 0C303.5 0 368 57.31 368 128V128zM168 176C185.7 176 200 161.7 200 144C200 126.3 185.7 112 168 112C150.3 112 136 126.3 136 144C136 161.7 150.3 176 168 176zM280 112C262.3 112 248 126.3 248 144C248 161.7 262.3 176 280 176C297.7 176 312 161.7 312 144C312 126.3 297.7 112 280 112zM3.379 273.7C11.28 257.9 30.5 251.5 46.31 259.4L224 348.2L401.7 259.4C417.5 251.5 436.7 257.9 444.6 273.7C452.5 289.5 446.1 308.7 430.3 316.6L295.6 384L430.3 451.4C446.1 459.3 452.5 478.5 444.6 494.3C436.7 510.1 417.5 516.5 401.7 508.6L224 419.8L46.31 508.6C30.5 516.5 11.28 510.1 3.379 494.3C-4.525 478.5 1.882 459.3 17.69 451.4L152.4 384L17.69 316.6C1.882 308.7-4.525 289.5 3.379 273.7V273.7z"/></svg>

  </span>


    </span>
  
  <p class="text-base font-medium" title="随笔">
    随笔
  </p>
</a>



            
            
  <a
  href="/murmur/"
  
  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
  
    <span class="mr-1">
      

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
<path fill="currentColor" d="M50.8 452.1L19.2 477.4c-2.1 1.7-4.7 2.6-7.4 2.6C5.3 480 0 474.7 0 468.2V192C0 86 86 0 192 0S384 86 384 192V468.2c0 6.5-5.3 11.8-11.8 11.8c-2.7 0-5.3-.9-7.4-2.6l-31.6-25.3c-3.3-2.7-7.5-4.1-11.8-4.1c-5.9 0-11.5 2.8-15 7.5l-37.6 50.1c-3 4-7.8 6.4-12.8 6.4s-9.8-2.4-12.8-6.4l-38.4-51.2c-3-4-7.8-6.4-12.8-6.4s-9.8 2.4-12.8 6.4l-38.4 51.2c-3 4-7.8 6.4-12.8 6.4s-9.8-2.4-12.8-6.4L77.6 455.5c-3.6-4.7-9.1-7.5-15-7.5c-4.3 0-8.4 1.5-11.7 4.1zM160 192c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zm96 32c17.7 0 32-14.3 32-32s-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32z"/></svg>
  </span>


    </span>
  
  <p class="text-base font-medium" title="碎碎念">
    碎碎念
  </p>
</a>



            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            
            <div
                class=" flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-1 rtl:ml-1">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 md:hidden">

        <label id="menu-button" class="block">
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50 padding-top-[5px]">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li id="menu-close-button">
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                    
  <li class="mt-1">
  <a
    href="/thoughts/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
      <div class="mr-2">
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M368 128C368 172.4 342.6 211.5 304 234.4V256C304 273.7 289.7 288 272 288H176C158.3 288 144 273.7 144 256V234.4C105.4 211.5 80 172.4 80 128C80 57.31 144.5 0 224 0C303.5 0 368 57.31 368 128V128zM168 176C185.7 176 200 161.7 200 144C200 126.3 185.7 112 168 112C150.3 112 136 126.3 136 144C136 161.7 150.3 176 168 176zM280 112C262.3 112 248 126.3 248 144C248 161.7 262.3 176 280 176C297.7 176 312 161.7 312 144C312 126.3 297.7 112 280 112zM3.379 273.7C11.28 257.9 30.5 251.5 46.31 259.4L224 348.2L401.7 259.4C417.5 251.5 436.7 257.9 444.6 273.7C452.5 289.5 446.1 308.7 430.3 316.6L295.6 384L430.3 451.4C446.1 459.3 452.5 478.5 444.6 494.3C436.7 510.1 417.5 516.5 401.7 508.6L224 419.8L46.31 508.6C30.5 516.5 11.28 510.1 3.379 494.3C-4.525 478.5 1.882 459.3 17.69 451.4L152.4 384L17.69 316.6C1.882 308.7-4.525 289.5 3.379 273.7V273.7z"/></svg>

  </span>


      </div>
    
    <p class="text-bg font-bg" title="随笔">
      随笔
    </p>
  </a>
</li>




                    

                    
  <li class="mt-1">
  <a
    href="/murmur/"
    
    class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
      <div class="mr-2">
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
<path fill="currentColor" d="M50.8 452.1L19.2 477.4c-2.1 1.7-4.7 2.6-7.4 2.6C5.3 480 0 474.7 0 468.2V192C0 86 86 0 192 0S384 86 384 192V468.2c0 6.5-5.3 11.8-11.8 11.8c-2.7 0-5.3-.9-7.4-2.6l-31.6-25.3c-3.3-2.7-7.5-4.1-11.8-4.1c-5.9 0-11.5 2.8-15 7.5l-37.6 50.1c-3 4-7.8 6.4-12.8 6.4s-9.8-2.4-12.8-6.4l-38.4-51.2c-3-4-7.8-6.4-12.8-6.4s-9.8 2.4-12.8 6.4l-38.4 51.2c-3 4-7.8 6.4-12.8 6.4s-9.8-2.4-12.8-6.4L77.6 455.5c-3.6-4.7-9.1-7.5-15-7.5c-4.3 0-8.4 1.5-11.7 4.1zM160 192c0-17.7-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32s32-14.3 32-32zm96 32c17.7 0 32-14.3 32-32s-14.3-32-32-32s-32 14.3-32 32s14.3 32 32 32z"/></svg>
  </span>


      </div>
    
    <p class="text-bg font-bg" title="碎碎念">
      碎碎念
    </p>
  </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>





  </div>
</div>


<script
  type="text/javascript"
  src="/js/background-blur.min.4812321520cc2e4cd52bf9137015a55bb6c0b5e66a6b2c96b8654c0ec99be59e8e6425dd838a6fd9bac54000586f37f4a9680bbefaa2aee4601a69e188005cf6.js"
  integrity="sha512-SBIyFSDMLkzVK/kTcBWlW7bAteZqayyWuGVMDsmb5Z6OZCXdg4pv2brFQABYbzf0qWgLvvqiruRgGmnhiABc9g=="
  data-target-id="menu-blur"></script>

    
    <div class="relative flex flex-col grow">
      <main id="main-content" class="grow">
        
  


  <article>
    
      
      
      
      
        




    
    <div class="fixed inset-x-0 top-0 h-[800px] single_hero_background nozoom"
    style="background-image:url(/thoughts/pygame-tutorials/featured_hu_78be981992379f36.jpg);">
    


    <div class="absolute inset-0 bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal">
    </div>
    <div
        class="absolute inset-0 opacity-60 bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral-100 dark:to-neutral-800 mix-blend-normal">
    </div>
</div>

<div id="background-blur" class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl"></div>


<script type="text/javascript" src="/js/background-blur.min.4812321520cc2e4cd52bf9137015a55bb6c0b5e66a6b2c96b8654c0ec99be59e8e6425dd838a6fd9bac54000586f37f4a9680bbefaa2aee4601a69e188005cf6.js" integrity="sha512-SBIyFSDMLkzVK/kTcBWlW7bAteZqayyWuGVMDsmb5Z6OZCXdg4pv2brFQABYbzf0qWgLvvqiruRgGmnhiABc9g==" data-target-id="background-blur"></script>

      
    


    <header id="single_header" class="mt-5 max-w-prose">
      
      <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
        Pygame入门到入土
      </h1>
      <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
        





  
  



  

  
  
  

  
  
    
  

  
    
  

  

  
    
  

  
    
  

  

  

  

  

  
    
  


  <div class="flex flex-row flex-wrap items-center">
    
    
      <time datetime="2025-08-02T19:14:37&#43;08:00">2025-08-02</time><span class="px-2 text-primary-500">&middot;</span><span>2494 字</span><span class="px-2 text-primary-500">&middot;</span><span title="预计阅读">12 分钟</span><span class="px-2 text-primary-500">&middot;</span>



<script
  type="text/javascript"
  src="/js/zen-mode.min.2a0a1375509c03daf41c53a9831aa2d560895b7a2528c3eb3b56e7b11a135c7529e49727162a053b6193be8340270a8342f42c69f3d7e262ae54bc248eaac8f5.js"
  integrity="sha512-KgoTdVCcA9r0HFOpgxqi1WCJW3olKMPrO1bnsRoTXHUp5JcnFioFO2GTvoNAJwqDQvQsafPX4mKuVLwkjqrI9Q=="></script>

<span class="mb-[2px]">
  <span
    id="zen-mode-button"
    class="text-lg hover:text-primary-500"
    title=""
    data-title-i18n-disable=""
    data-title-i18n-enable="">
    <span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="50px" height="50px">
    <path fill="currentColor" d="M 12.980469 4 C 9.1204688 4 5.9804688 7.14 5.9804688 11 L 6 26 L 9.9804688 26 L 9.9804688 11 C 9.9804688 9.35 11.320469 8 12.980469 8 L 40.019531 8 C 41.679531 8 43.019531 9.35 43.019531 11 L 43.019531 39 C 43.019531 40.65 41.679531 42 40.019531 42 L 29 42 C 29 43.54 28.420938 44.94 27.460938 46 L 40.019531 46 C 43.879531 46 47.019531 42.86 47.019531 39 L 47.019531 11 C 47.019531 7.14 43.879531 4 40.019531 4 L 12.980469 4 z M 7 28 C 4.794 28 3 29.794 3 32 L 3 42 C 3 44.206 4.794 46 7 46 L 23 46 C 25.206 46 27 44.206 27 42 L 27 32 C 27 29.794 25.206 28 23 28 L 7 28 z M 7 32 L 23 32 L 23.001953 42 L 7 42 L 7 32 z"/>
</svg>
  </span>

</span>
  </span>
</span>

    

    
    
  </div>

  
    <div class="flex flex-row flex-wrap items-center">
      
        
          
        
      
        
      
        
      
        
      
        
      
    </div>
  

  
  
    <div class="flex flex-row flex-wrap items-center">
      
        
      
        
          
        
      
        
      
        
          
            
              <span
                class="mr-2 margin-top-[0.5rem]"
                onclick="window.open(&#34;/tags/pygame/&#34;,'_self');return false;">
                <span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Pygame
  </span>
</span>

              </span>
            
              <span
                class="mr-2 margin-top-[0.5rem]"
                onclick="window.open(&#34;/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/&#34;,'_self');return false;">
                <span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    游戏开发
  </span>
</span>

              </span>
            
              <span
                class="mr-2 margin-top-[0.5rem]"
                onclick="window.open(&#34;/tags/python/&#34;,'_self');return false;">
                <span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Python
  </span>
</span>

              </span>
            
              <span
                class="mr-2 margin-top-[0.5rem]"
                onclick="window.open(&#34;/tags/%E6%95%99%E7%A8%8B/&#34;,'_self');return false;">
                <span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    教程
  </span>
</span>

              </span>
            
              <span
                class="mr-2 margin-top-[0.5rem]"
                onclick="window.open(&#34;/tags/%E5%AD%A6%E4%B9%A0/&#34;,'_self');return false;">
                <span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    学习
  </span>
</span>

              </span>
            
              <span
                class="mr-2 margin-top-[0.5rem]"
                onclick="window.open(&#34;/tags/%E5%BC%80%E5%8F%91/&#34;,'_self');return false;">
                <span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    开发
  </span>
</span>

              </span>
            
              <span
                class="mr-2 margin-top-[0.5rem]"
                onclick="window.open(&#34;/tags/%E7%BC%96%E7%A8%8B/&#34;,'_self');return false;">
                <span class="flex cursor-pointer">
  <span
    class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    编程
  </span>
</span>

              </span>
            
          
        
      
        
          
        
      
    </div>
  

  
  



      </div>

      
      
      
      
      

      

      

        
          
          
<div class="flex author">
  
    
    
      
    
    
      
        
      
      <img
        class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4"
        width="96"
        height="96"
        alt=" "
        src="/img/avatar_hu_751ea4deee93581e.png">
    
  
  <div class="place-self-center">
    
    
      <div class="text-sm text-neutral-700 dark:text-neutral-400">反者道之动</div>
    
    <div class="text-2xl sm:text-lg">
  <div class="flex flex-wrap text-neutral-400 dark:text-neutral-500">
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://github.com/bin549"
          target="_blank"
          aria-label="Github"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>

  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://bin549.itch.io"
          target="_blank"
          aria-label="Itch-Io"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" height="235.452" width="261.728" viewBox="0 0 245.37069 220.73612"><path fill="currentColor" d="M31.99 1.365C21.287 7.72.2 31.945 0 38.298v10.516C0 62.144 12.46 73.86 23.773 73.86c13.584 0 24.902-11.258 24.903-24.62 0 13.362 10.93 24.62 24.515 24.62 13.586 0 24.165-11.258 24.165-24.62 0 13.362 11.622 24.62 25.207 24.62h.246c13.586 0 25.208-11.258 25.208-24.62 0 13.362 10.58 24.62 24.164 24.62 13.585 0 24.515-11.258 24.515-24.62 0 13.362 11.32 24.62 24.903 24.62 11.313 0 23.773-11.714 23.773-25.046V38.298c-.2-6.354-21.287-30.58-31.988-36.933C180.118.197 157.056-.005 122.685 0c-34.37.003-81.228.54-90.697 1.365zm65.194 66.217a28.025 28.025 0 0 1-4.78 6.155c-5.128 5.014-12.157 8.122-19.906 8.122a28.482 28.482 0 0 1-19.948-8.126c-1.858-1.82-3.27-3.766-4.563-6.032l-.006.004c-1.292 2.27-3.092 4.215-4.954 6.037a28.5 28.5 0 0 1-19.948 8.12c-.934 0-1.906-.258-2.692-.528-1.092 11.372-1.553 22.24-1.716 30.164l-.002.045c-.02 4.024-.04 7.333-.06 11.93.21 23.86-2.363 77.334 10.52 90.473 19.964 4.655 56.7 6.775 93.555 6.788h.006c36.854-.013 73.59-2.133 93.554-6.788 12.883-13.14 10.31-66.614 10.52-90.474-.022-4.596-.04-7.905-.06-11.93l-.003-.045c-.162-7.926-.623-18.793-1.715-30.165-.786.27-1.757.528-2.692.528a28.5 28.5 0 0 1-19.948-8.12c-1.862-1.822-3.662-3.766-4.955-6.037l-.006-.004c-1.294 2.266-2.705 4.213-4.563 6.032a28.48 28.48 0 0 1-19.947 8.125c-7.748 0-14.778-3.11-19.906-8.123a28.025 28.025 0 0 1-4.78-6.155 27.99 27.99 0 0 1-4.736 6.155 28.49 28.49 0 0 1-19.95 8.124c-.27 0-.54-.012-.81-.02h-.007c-.27.008-.54.02-.813.02a28.49 28.49 0 0 1-19.95-8.123 27.992 27.992 0 0 1-4.736-6.155zm-20.486 26.49l-.002.01h.015c8.113.017 15.32 0 24.25 9.746 7.028-.737 14.372-1.105 21.722-1.094h.006c7.35-.01 14.694.357 21.723 1.094 8.93-9.747 16.137-9.73 24.25-9.746h.014l-.002-.01c3.833 0 19.166 0 29.85 30.007L210 165.244c8.504 30.624-2.723 31.373-16.727 31.4-20.768-.773-32.267-15.855-32.267-30.935-11.496 1.884-24.907 2.826-38.318 2.827h-.006c-13.412 0-26.823-.943-38.318-2.827 0 15.08-11.5 30.162-32.267 30.935-14.004-.027-25.23-.775-16.726-31.4L46.85 124.08c10.684-30.007 26.017-30.007 29.85-30.007zm45.985 23.582v.006c-.02.02-21.863 20.08-25.79 27.215l14.304-.573v12.474c0 .584 5.74.346 11.486.08h.006c5.744.266 11.485.504 11.485-.08v-12.474l14.304.573c-3.928-7.135-25.79-27.215-25.79-27.215v-.006l-.003.002z"/></svg>
  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://learn.stem-powered.com/course/creator?id=11"
          target="_blank"
          aria-label="Spotify"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"/></svg>
  </span>

</span></a
        >
      
    
      
        <a
          class="px-1 hover:text-primary-700 dark:hover:text-primary-400"
          href="https://afdian.com/a/bin549"
          target="_blank"
          aria-label="Ko-Fi"
          rel="me noopener noreferrer"
          ><span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->
<svg width="211.67mm" height="211.67mm" version="1.1" viewBox="0 0 211.67 211.67" xmlns="http://www.w3.org/2000/svg">
 <defs>
  <clipPath id="clipPath25">
   <path d="m0 600h1654.8v-600h-1654.8z" fill="currentColor"/>
  </clipPath>
 </defs>
 <g transform="translate(-3.0786 -29.59)">
  <g transform="matrix(.35278 0 0 -.35278 3.0785 241.26)">
   <g clip-path="url(#clipPath25)">
    <g transform="translate(600 300)">
     <path d="m-300 300c-165.69 0-300-134.31-300-300 0-165.69 134.31-300 300-300 165.68 0 300 134.31 300 300 0 165.69-134.32 300-300 300zm-188.93-166.99h329.58c23.223 0 46.032-6.8325 65.073-20.125 18.412-12.856 36.378-33.646 42.697-67.02 14.674-77.514-43.568-135.76-126.12-131.18 0.438-21.268-3.8105-59.422-44.878-69.696-3.282-0.821-6.6604-1.186-10.044-1.207-72.13-0.448-222.53-0.88916-222.53-0.88916s-46.066-0.01555-49.176 45.962c-1.023 77.88-0.48339 223.69-0.48339 223.69s-0.02651 2.9267-0.02051 3.6577c0.043 5.607 4.4359 16.8 15.901 16.8zm312.71-55.573v-107.8s14.302-1.6507 31.907 0.54932c20.356 6.6 39.06 20.901 39.06 57.199 0 14.85-5.2614 25.601-11.837 33.239-9.341 10.848-23.152 16.809-37.469 16.809h-21.661z" fill="currentColor"/>
    </g>
    <g transform="translate(256.61 203.37)">
     <path d="m0 0c3.585-1.806 5.876 0.437 5.876 0.437s52.457 47.878 76.089 75.452c21.018 24.667 22.389 66.234-13.708 81.766-36.096 15.532-65.795-18.272-65.795-18.272-25.755 28.326-64.734 26.891-82.763 7.721-18.027-19.169-11.732-52.072 1.717-70.383 12.626-17.19 68.119-66.65 76.529-75.015 0 0 0.614-0.641 2.055-1.706" fill="currentColor"/>
    </g>
   </g>
  </g>
 </g>
</svg>

  </span>

</span></a
        >
      
    
  </div>

</div>
  </div>
</div>

        

        

        
          <div class="mb-5"></div>
        

      

    </header>

    <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
      
        <div class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
          <div
            class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-[140px]
            
            ">
            
              <details
  open
  id="TOCView"
  class="toc-right mt-0 overflow-y-auto overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    目录
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#二环境配置">二.环境配置</a>
      <ul>
        <li><a href="#21-pygame安装">2.1 pygame安装</a></li>
        <li><a href="#22-导入库">2.2 导入库</a></li>
        <li><a href="#23-检查结果">2.3 检查结果</a></li>
      </ul>
    </li>
    <li><a href="#三-基本用法介绍">三 基本用法介绍</a>
      <ul>
        <li><a href="#311-计算坐标系computer-coordinate-system">3.1.1 计算坐标系（Computer coordinate system）</a></li>
        <li><a href="#312-pygame基础库pygame-library">3.1.2 pygame基础库（Pygame Library）</a>
          <ul>
            <li><a href="#313-基本流程">3.1.3 基本流程</a></li>
            <li><a href="#3131-初始化">3.1.3.1 初始化</a></li>
            <li><a href="#3132-颜色填充">3.1.3.2 颜色填充</a></li>
            <li><a href="#3133-窗口初始化">3.1.3.3 窗口初始化</a></li>
            <li><a href="#3134-游戏循环">3.1.3.4 游戏循环</a></li>
          </ul>
        </li>
        <li><a href="#32-pygame图形学相关">3.2 pygame图形学相关</a>
          <ul>
            <li><a href="#321-基本图元绘制">3.2.1 基本图元绘制</a></li>
            <li><a href="#3211-绘制直线">3.2.1.1 绘制直线</a></li>
            <li><a href="#3212-绘制矩形">3.2.1.2 绘制矩形</a></li>
            <li><a href="#3213-绘制圆圈">3.2.1.3 绘制圆圈</a></li>
            <li><a href="#3214-绘制椭圆形">3.2.1.4 绘制椭圆形</a></li>
            <li><a href="#3215-绘制圆弧">3.2.1.5 绘制圆弧</a></li>
            <li><a href="#3216-绘制多边形">3.2.1.6 绘制多边形</a></li>
            <li><a href="#3217-绘制文字">3.2.1.7 绘制文字</a></li>
            <li><a href="#322-二维基本几何变换">3.2.2 二维基本几何变换</a></li>
            <li><a href="#3221-平移变换">3.2.2.1 平移变换</a></li>
            <li><a href="#3222-比例变换">3.2.2.2 比例变换</a></li>
            <li><a href="#3223-旋转变换">3.2.2.3 旋转变换</a></li>
            <li><a href="#3224-对称变换">3.2.2.4 对称变换</a></li>
          </ul>
        </li>
        <li><a href="#33-精灵图sprite">3.3 精灵图（Sprite）</a>
          <ul>
            <li><a href="#331-精灵图集">3.3.1 精灵图集</a></li>
            <li><a href="#3312-加载精灵图集">3.3.1.2 加载精灵图集</a></li>
            <li><a href="#3312-动画帧实现">3.3.1.2 动画帧实现</a></li>
          </ul>
        </li>
        <li><a href="#34-ui">3.4 UI</a>
          <ul>
            <li><a href="#341-导入所需库">3.4.1 导入所需库</a></li>
            <li><a href="#342-初始化窗体">3.4.2 初始化窗体</a></li>
            <li><a href="#343-资源加载">3.4.3 资源加载</a></li>
            <li><a href="#344-基础实体类">3.4.4 基础实体类</a></li>
            <li><a href="#345-界面交互按钮点击">3.4.5 界面交互(按钮点击)</a></li>
            <li><a href="#336-界面交互拖拽ui">3.3.6 界面交互（拖拽UI）</a></li>
          </ul>
        </li>
        <li><a href="#34-音效">3.4 音效</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#41-分形图-模拟类">4.1 分形图-模拟类</a>
          <ul>
            <li><a href="#411-初始化">4.1.1 初始化</a></li>
            <li><a href="#412-绘制方法">4.1.2 绘制方法</a></li>
            <li><a href="#413-程序逻辑">4.1.3 程序逻辑</a></li>
          </ul>
        </li>
        <li><a href="#42-flappy-bird-游戏类">4.2 flappy Bird-游戏类</a>
          <ul>
            <li><a href="#421-导入所需库以及初始化">4.2.1 导入所需库以及初始化</a></li>
            <li><a href="#422-窗体初始化">4.2.2 窗体初始化</a></li>
            <li><a href="#423-实体类">4.2.3 实体类</a></li>
            <li><a href="#424-游戏逻辑">4.2.4 游戏逻辑</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    目录
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#二环境配置">二.环境配置</a>
      <ul>
        <li><a href="#21-pygame安装">2.1 pygame安装</a></li>
        <li><a href="#22-导入库">2.2 导入库</a></li>
        <li><a href="#23-检查结果">2.3 检查结果</a></li>
      </ul>
    </li>
    <li><a href="#三-基本用法介绍">三 基本用法介绍</a>
      <ul>
        <li><a href="#311-计算坐标系computer-coordinate-system">3.1.1 计算坐标系（Computer coordinate system）</a></li>
        <li><a href="#312-pygame基础库pygame-library">3.1.2 pygame基础库（Pygame Library）</a>
          <ul>
            <li><a href="#313-基本流程">3.1.3 基本流程</a></li>
            <li><a href="#3131-初始化">3.1.3.1 初始化</a></li>
            <li><a href="#3132-颜色填充">3.1.3.2 颜色填充</a></li>
            <li><a href="#3133-窗口初始化">3.1.3.3 窗口初始化</a></li>
            <li><a href="#3134-游戏循环">3.1.3.4 游戏循环</a></li>
          </ul>
        </li>
        <li><a href="#32-pygame图形学相关">3.2 pygame图形学相关</a>
          <ul>
            <li><a href="#321-基本图元绘制">3.2.1 基本图元绘制</a></li>
            <li><a href="#3211-绘制直线">3.2.1.1 绘制直线</a></li>
            <li><a href="#3212-绘制矩形">3.2.1.2 绘制矩形</a></li>
            <li><a href="#3213-绘制圆圈">3.2.1.3 绘制圆圈</a></li>
            <li><a href="#3214-绘制椭圆形">3.2.1.4 绘制椭圆形</a></li>
            <li><a href="#3215-绘制圆弧">3.2.1.5 绘制圆弧</a></li>
            <li><a href="#3216-绘制多边形">3.2.1.6 绘制多边形</a></li>
            <li><a href="#3217-绘制文字">3.2.1.7 绘制文字</a></li>
            <li><a href="#322-二维基本几何变换">3.2.2 二维基本几何变换</a></li>
            <li><a href="#3221-平移变换">3.2.2.1 平移变换</a></li>
            <li><a href="#3222-比例变换">3.2.2.2 比例变换</a></li>
            <li><a href="#3223-旋转变换">3.2.2.3 旋转变换</a></li>
            <li><a href="#3224-对称变换">3.2.2.4 对称变换</a></li>
          </ul>
        </li>
        <li><a href="#33-精灵图sprite">3.3 精灵图（Sprite）</a>
          <ul>
            <li><a href="#331-精灵图集">3.3.1 精灵图集</a></li>
            <li><a href="#3312-加载精灵图集">3.3.1.2 加载精灵图集</a></li>
            <li><a href="#3312-动画帧实现">3.3.1.2 动画帧实现</a></li>
          </ul>
        </li>
        <li><a href="#34-ui">3.4 UI</a>
          <ul>
            <li><a href="#341-导入所需库">3.4.1 导入所需库</a></li>
            <li><a href="#342-初始化窗体">3.4.2 初始化窗体</a></li>
            <li><a href="#343-资源加载">3.4.3 资源加载</a></li>
            <li><a href="#344-基础实体类">3.4.4 基础实体类</a></li>
            <li><a href="#345-界面交互按钮点击">3.4.5 界面交互(按钮点击)</a></li>
            <li><a href="#336-界面交互拖拽ui">3.3.6 界面交互（拖拽UI）</a></li>
          </ul>
        </li>
        <li><a href="#34-音效">3.4 音效</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li>
      <ul>
        <li><a href="#41-分形图-模拟类">4.1 分形图-模拟类</a>
          <ul>
            <li><a href="#411-初始化">4.1.1 初始化</a></li>
            <li><a href="#412-绘制方法">4.1.2 绘制方法</a></li>
            <li><a href="#413-程序逻辑">4.1.3 程序逻辑</a></li>
          </ul>
        </li>
        <li><a href="#42-flappy-bird-游戏类">4.2 flappy Bird-游戏类</a>
          <ul>
            <li><a href="#421-导入所需库以及初始化">4.2.1 导入所需库以及初始化</a></li>
            <li><a href="#422-窗体初始化">4.2.2 窗体初始化</a></li>
            <li><a href="#423-实体类">4.2.3 实体类</a></li>
            <li><a href="#424-游戏逻辑">4.2.4 游戏逻辑</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</details>



            
            
          </div>
        </div>
      


      <div class="min-w-0 min-h-0 max-w-fit">
        



        <div class="article-content max-w-prose mb-20">
          
<h1 class="relative group">一.pygame简介 
    <div id="一pygame简介" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%b8%80pygame%e7%ae%80%e4%bb%8b" aria-label="锚点">#</a>
    </span>        
    
</h1>
<ul>
<li>Pygame 是一种流行的Python游戏开发库，它提供了许多功能，使开发人员可以轻松创建2D游戏。它具有良好的跨平台支持，可以在多个操作系统上运行，例如Windows，MacOS和Linux</li>
</ul>

<h2 class="relative group">二.环境配置 
    <div id="二环境配置" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%ba%8c%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae" aria-label="锚点">#</a>
    </span>        
    
</h2>

<h3 class="relative group">2.1 pygame安装 
    <div id="21-pygame安装" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#21-pygame%e5%ae%89%e8%a3%85" aria-label="锚点">#</a>
    </span>        
    
</h3>
<br>
* Pygame的安装非常简单，只需要使用pip命令即可。
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">pip</span> <span class="n">install</span> <span class="n">pygame</span>
</span></span></code></pre></div>
<h3 class="relative group">2.2 导入库 
    <div id="22-导入库" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#22-%e5%af%bc%e5%85%a5%e5%ba%93" aria-label="锚点">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pygame</span>
</span></span></code></pre></div>
<h3 class="relative group">2.3 检查结果 
    <div id="23-检查结果" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#23-%e6%a3%80%e6%9f%a5%e7%bb%93%e6%9e%9c" aria-label="锚点">#</a>
    </span>        
    
</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="nb">print</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">ver</span><span class="p">)</span>
</span></span></code></pre></div>
<h2 class="relative group">三 基本用法介绍 
    <div id="三-基本用法介绍" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e4%b8%89-%e5%9f%ba%e6%9c%ac%e7%94%a8%e6%b3%95%e4%bb%8b%e7%bb%8d" aria-label="锚点">#</a>
    </span>        
    
</h2>

<h3 class="relative group">3.1.1 计算坐标系（Computer coordinate system） 
    <div id="311-计算坐标系computer-coordinate-system" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#311-%e8%ae%a1%e7%ae%97%e5%9d%90%e6%a0%87%e7%b3%bbcomputer-coordinate-system" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>对于2D坐标系而言，只需要需要确定原点，以及规定坐标轴的方向即可。</li>
<li>在2D坐标系中对点的定位，可用（x,y）表示，x表示x轴上的分量也是到y轴的距离，同理y表示y轴上的分量也是到x轴的距离  （x，y）坐标表示中，x y的大小代表距离，x y的正负则代表方向</li>
<li>pygame中的坐标系中原点在左上角(0,0)，x轴水平向右，逐渐增加,反之减少，y轴水平向下，逐渐增加，反之减少。</li>
</ul>
<img src=./assets/tutorials/Computer_coordinates_2D.png height=250 style="margin-left: 80px;">

<h3 class="relative group">3.1.2 pygame基础库（Pygame Library） 
    <div id="312-pygame基础库pygame-library" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#312-pygame%e5%9f%ba%e7%a1%80%e5%ba%93pygame-library" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>Pygame提供了各种游戏开发所需的工具和功能。Pygame在SDL（Simple Direct Media Layer，使用C语言编写的多媒体开发库）的基础上开发而成，它提供了诸多操作模块，比如图像模块（image）、声音模块（mixer）、输入/输出（鼠标、键盘、显示屏）模块等。相比于开发3D游戏而言，Pygame更擅长开发2D游戏，</li>
</ul>
<img src=./assets/tutorials/module.jpg height=520 style="margin-left: 80px;">

<h4 class="relative group">3.1.3 基本流程 
    <div id="313-基本流程" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#313-%e5%9f%ba%e6%9c%ac%e6%b5%81%e7%a8%8b" aria-label="锚点">#</a>
    </span>        
    
</h4>
<ul>
<li>

<h4 class="relative group">3.1.3.1 初始化 
    <div id="3131-初始化" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3131-%e5%88%9d%e5%a7%8b%e5%8c%96" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pygame</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>  <span class="c1"># 要使用pygame提供的所有功能之前,需要调用init方法</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.1.3.2 颜色填充 
    <div id="3132-颜色填充" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3132-%e9%a2%9c%e8%89%b2%e5%a1%ab%e5%85%85" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
<li>
<p>Pygame使用的颜色系统是很多计算机语言和程序的通用系统，称为RGB（red, green, blue），Pygame还提供了一个命名颜色的列表，也可以自行定义颜色。</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">color</span> <span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">color</span><span class="o">.</span><span class="n">THECOLORS</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
</span></span><span class="line"><span class="cl"><span class="n">colors</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 定义程序所需颜色变量</span>
</span></span><span class="line"><span class="cl"><span class="n">BLACK</span>    <span class="o">=</span> <span class="p">(</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">WHITE</span>    <span class="o">=</span> <span class="p">(</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">GREEN</span>    <span class="o">=</span> <span class="p">(</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span>   <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">RED</span>      <span class="o">=</span> <span class="p">(</span> <span class="mi">255</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">BLUE</span>     <span class="o">=</span> <span class="p">(</span>   <span class="mi">0</span><span class="p">,</span>   <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">GRAY</span>     <span class="o">=</span> <span class="p">(</span> <span class="mi">123</span><span class="p">,</span> <span class="mi">112</span><span class="p">,</span> <span class="mi">113</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">SKYBLUE</span>  <span class="o">=</span> <span class="p">(</span>  <span class="mi">65</span><span class="p">,</span> <span class="mi">146</span><span class="p">,</span> <span class="mi">247</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">CRIMSON</span>  <span class="o">=</span> <span class="p">(</span> <span class="mi">234</span><span class="p">,</span>  <span class="mi">51</span><span class="p">,</span>  <span class="mi">35</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.1.3.3 窗口初始化 
    <div id="3133-窗口初始化" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3133-%e7%aa%97%e5%8f%a3%e5%88%9d%e5%a7%8b%e5%8c%96" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
<li>
<p>pygame提供了一个模块pygame.display用于创建,管理游戏窗口</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 初始化游戏窗口</span>
</span></span><span class="line"><span class="cl"><span class="n">SCREEN_WIDTH</span> <span class="o">=</span> <span class="mi">600</span>
</span></span><span class="line"><span class="cl"><span class="n">SCREEN_HEIGHT</span> <span class="o">=</span> <span class="mi">400</span>
</span></span><span class="line"><span class="cl"><span class="n">screen</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s2">&#34;初始化pygame窗口&#34;</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.1.3.4 游戏循环 
    <div id="3134-游戏循环" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3134-%e6%b8%b8%e6%88%8f%e5%be%aa%e7%8e%af" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">done</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># 退出游戏标志位</span>
</span></span><span class="line"><span class="cl"><span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>  <span class="c1"># 控制游戏帧率</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="c1"># -------- 主循环 -----------</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="ow">not</span> <span class="n">done</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># --- 实现监听</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span> 
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span> 
</span></span><span class="line"><span class="cl">            <span class="n">done</span> <span class="o">=</span> <span class="kc">True</span> 
</span></span><span class="line"><span class="cl">            <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>   <span class="c1">#卸载所有模块</span>
</span></span><span class="line"><span class="cl">            <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>  <span class="c1">#终止程序，确保退出程序</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># --- 游戏逻辑</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># --- 游戏图形绘制</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">WHITE</span><span class="p">)</span>  <span class="c1"># 清空屏幕</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>   <span class="c1"># 更新屏幕内容</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">    <span class="n">clock</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>  <span class="c1">#限制每秒刷新60次</span>
</span></span></code></pre></div>
<h3 class="relative group">3.2 pygame图形学相关 
    <div id="32-pygame图形学相关" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#32-pygame%e5%9b%be%e5%bd%a2%e5%ad%a6%e7%9b%b8%e5%85%b3" aria-label="锚点">#</a>
    </span>        
    
</h3>

<h4 class="relative group">3.2.1 基本图元绘制 
    <div id="321-基本图元绘制" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#321-%e5%9f%ba%e6%9c%ac%e5%9b%be%e5%85%83%e7%bb%98%e5%88%b6" aria-label="锚点">#</a>
    </span>        
    
</h4>
<ul>
<li>
<p>目前主流的显示器上，是采用光栅扫描显示，所有图形的显示都归结为按照图形的描述将显示设备的光栅像素点点亮。为了输出一个像素，需要将该像素的坐标和颜色信息转换成输出设别的相应指令。通俗的理解，其是由各个像素点组成的画面。</p>
</li>
<li>
<p>而基本图元显示问题是根据基本图元的描述信息来生产像素组合。基本二维图形图元包括点、线、圆弧、多边形、字体符号和位图等。</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 查看draw模块下可用的方法</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="s2">&#34;pygame.draw.</span><span class="si">%s</span><span class="s2">&#34;</span> <span class="o">%</span> <span class="n">method</span> <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">method</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&#34;__&#34;</span><span class="p">)]</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.2.1.1 绘制直线 
    <div id="3211-绘制直线" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3211-%e7%bb%98%e5%88%b6%e7%9b%b4%e7%ba%bf" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">help</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">)</span>
</span></span></code></pre></div><pre><code>Help on built-in function line in module pygame.draw:

line(...)
    line(surface, color, start_pos, end_pos) -&gt; Rect
    line(surface, color, start_pos, end_pos, width=1) -&gt; Rect
    draw a straight line
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">math</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 绘制主循环 &#34;&#34;&#34;</span> 
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="p">[</span><span class="mi">550</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="p">[</span><span class="mi">550</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.2.1.2 绘制矩形 
    <div id="3212-绘制矩形" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3212-%e7%bb%98%e5%88%b6%e7%9f%a9%e5%bd%a2" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">help</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
</span></span></code></pre></div><pre><code>Help on built-in function rect in module pygame.draw:

rect(...)
    rect(surface, color, rect) -&gt; Rect
    rect(surface, color, rect, width=0, border_radius=0, border_top_left_radius=-1, border_top_right_radius=-1, border_bottom_left_radius=-1, border_bottom_right_radius=-1) -&gt; Rect
    draw a rectangle
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 绘制主循环 &#34;&#34;&#34;</span> 
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span><span class="n">BLACK</span><span class="p">,[</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="c1"># pygame.draw.rect(screen, (255, 0, 0), (200, 100, 150, 150))  # 绘制</span>
</span></span><span class="line"><span class="cl">  <span class="c1"># pygame.draw.rect(screen, (255, 0, 0), (200, 100, 150, 150), border_radius = 50, width = 5)  # 绘制 - 圆边</span>
</span></span><span class="line"><span class="cl">  <span class="c1"># pygame.draw.rect(screen, (255, 0, 0), (200, 100, 150, 150), width = 5, border_bottom_right_radius = 50, border_top_left_radius = 25)</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.2.1.3 绘制圆圈 
    <div id="3213-绘制圆圈" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3213-%e7%bb%98%e5%88%b6%e5%9c%86%e5%9c%88" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">help</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">)</span>
</span></span></code></pre></div><pre><code>Help on built-in function circle in module pygame.draw:

circle(...)
    circle(surface, color, center, radius) -&gt; Rect
    circle(surface, color, center, radius, width=0, draw_top_right=None, draw_top_left=None, draw_bottom_left=None, draw_bottom_right=None) -&gt; Rect
    draw a circle
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 绘制主循环 &#34;&#34;&#34;</span> 
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">200</span><span class="p">),</span> <span class="mi">75</span><span class="p">)</span>  <span class="c1"># 绘制圆形</span>
</span></span><span class="line"><span class="cl"><span class="c1">#   pygame.draw.circle(screen, (255, 255, 0), (300, 200), 75, draw_top_right = True, draw_bottom_left = True)   </span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.2.1.4 绘制椭圆形 
    <div id="3214-绘制椭圆形" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3214-%e7%bb%98%e5%88%b6%e6%a4%ad%e5%9c%86%e5%bd%a2" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">help</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">ellipse</span><span class="p">)</span>
</span></span></code></pre></div><pre><code>Help on built-in function ellipse in module pygame.draw:

ellipse(...)
    ellipse(surface, color, rect) -&gt; Rect
    ellipse(surface, color, rect, width=0) -&gt; Rect
    draw an ellipse
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 绘制主循环 &#34;&#34;&#34;</span> 
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">ellipse</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">250</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.2.1.5 绘制圆弧 
    <div id="3215-绘制圆弧" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3215-%e7%bb%98%e5%88%b6%e5%9c%86%e5%bc%a7" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">help</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">arc</span><span class="p">)</span>
</span></span></code></pre></div><pre><code>Help on built-in function arc in module pygame.draw:

arc(...)
    arc(surface, color, rect, start_angle, stop_angle) -&gt; Rect
    arc(surface, color, rect, start_angle, stop_angle, width=1) -&gt; Rect
    draw an elliptical arc
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 绘制主循环 &#34;&#34;&#34;</span> 
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">arc</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">3.14</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># 绘制圆弧</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.2.1.6 绘制多边形 
    <div id="3216-绘制多边形" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3216-%e7%bb%98%e5%88%b6%e5%a4%9a%e8%be%b9%e5%bd%a2" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">help</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">polygon</span><span class="p">)</span>
</span></span></code></pre></div><pre><code>Help on built-in function polygon in module pygame.draw:

polygon(...)
    polygon(surface, color, points) -&gt; Rect
    polygon(surface, color, points, width=0) -&gt; Rect
    draw a polygon
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 绘制主循环 &#34;&#34;&#34;</span> 
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">polygon</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">,</span> <span class="p">[[</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">],</span> <span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">]],</span> <span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.2.1.7 绘制文字 
    <div id="3217-绘制文字" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3217-%e7%bb%98%e5%88%b6%e6%96%87%e5%ad%97" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 绘制主循环 &#34;&#34;&#34;</span> 
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s1">&#39;Calibri&#39;</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">text</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="s2">&#34;Hello World!&#34;</span><span class="p">,</span><span class="kc">True</span><span class="p">,</span><span class="n">BLACK</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="p">[</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div>
<h4 class="relative group">3.2.2 二维基本几何变换 
    <div id="322-二维基本几何变换" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#322-%e4%ba%8c%e7%bb%b4%e5%9f%ba%e6%9c%ac%e5%87%a0%e4%bd%95%e5%8f%98%e6%8d%a2" aria-label="锚点">#</a>
    </span>        
    
</h4>
<ul>
<li>图形学中，基本的几何变换主要有缩放、错切、旋转、反射、平移等几个操作。其他的复杂变换可以通过这些基础变换组合实现。</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># pygame二维变换相关方法</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="s2">&#34;pygame.transform.</span><span class="si">%s</span><span class="s2">&#34;</span> <span class="o">%</span> <span class="n">method</span> <span class="k">for</span> <span class="n">method</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">method</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&#34;__&#34;</span><span class="p">)]</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.2.2.1 平移变换 
    <div id="3221-平移变换" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3221-%e5%b9%b3%e7%a7%bb%e5%8f%98%e6%8d%a2" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
<li>
<p>pygame实现通过改变绘制图案位置来进行对其的平移变换。</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">math</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 初始化物体形状</span>
</span></span><span class="line"><span class="cl"><span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">image</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 获取图片原始宽高</span>
</span></span><span class="line"><span class="cl"><span class="n">rect</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 初始化位移参数</span>
</span></span><span class="line"><span class="cl"><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl"><span class="n">speed</span> <span class="o">=</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl"><span class="n">FPS</span> <span class="o">=</span> <span class="mi">60</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 移动物体方法 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="n">dx</span> <span class="o">*</span> <span class="n">speed</span>
</span></span><span class="line"><span class="cl">  <span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="n">dy</span> <span class="o">*</span> <span class="n">speed</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 控制物体运动Demo循环 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">      <span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">keys</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_RIGHT</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">move</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_LEFT</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">move</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_UP</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">move</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="n">keys</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_DOWN</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">move</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BLACK</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">rect</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">clock</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="n">FPS</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.2.2.2 比例变换 
    <div id="3222-比例变换" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3222-%e6%af%94%e4%be%8b%e5%8f%98%e6%8d%a2" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">help</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">)</span>
</span></span></code></pre></div><pre><code>Help on built-in function scale in module pygame.transform:

scale(...)
    scale(surface, size, dest_surface=None) -&gt; Surface
    resize to new resolution
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">math</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 初始化物体</span>
</span></span><span class="line"><span class="cl"><span class="n">dino</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&#34;assets/geometric-transformation/images/dino.png&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="mi">300</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="mi">200</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 获取图片原始宽高</span>
</span></span><span class="line"><span class="cl"><span class="n">w</span> <span class="o">=</span> <span class="n">dino</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">h</span> <span class="o">=</span> <span class="n">dino</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 旋转物体控制主循环 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">WHITE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">pos</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">get_pos</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">w</span> <span class="o">=</span> <span class="n">dino</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">h</span> <span class="o">=</span> <span class="n">dino</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="c1"># 原始图片</span>
</span></span><span class="line"><span class="cl">  <span class="n">origin_dino</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">dino</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">dino_rect</span> <span class="o">=</span> <span class="n">dino</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">origin_dino</span><span class="p">,</span> <span class="n">dino_rect</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="c1"># 缩小图片</span>
</span></span><span class="line"><span class="cl">  <span class="n">resized_dino_small</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">dino</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">h</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">dino_rect</span> <span class="o">=</span> <span class="n">dino</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">120</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="mi">60</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">resized_dino_small</span><span class="p">,</span> <span class="n">dino_rect</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="c1"># 放大图片</span>
</span></span><span class="line"><span class="cl">  <span class="n">resized_dino_big</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">dino</span><span class="p">,</span> <span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">,</span> <span class="n">h</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">dino_rect</span> <span class="o">=</span> <span class="n">dino</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">120</span><span class="p">,</span> <span class="n">y</span><span class="o">-</span><span class="mi">60</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">resized_dino_big</span><span class="p">,</span> <span class="n">dino_rect</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.2.2.3 旋转变换 
    <div id="3223-旋转变换" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3223-%e6%97%8b%e8%bd%ac%e5%8f%98%e6%8d%a2" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">help</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">rotate</span><span class="p">)</span>
</span></span></code></pre></div><pre><code>Help on built-in function rotate in module pygame.transform:

rotate(...)
    rotate(surface, angle) -&gt; Surface
    rotate an image
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">math</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 初始化物体 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">turret_original</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&#34;assets/geometric-transformation/images/Handgun1.png&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="mi">300</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="mi">200</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 旋转物体控制主循环 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">GRAY</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">pos</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">get_pos</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">x_dist</span> <span class="o">=</span> <span class="n">pos</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span>
</span></span><span class="line"><span class="cl">  <span class="n">y_dist</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">angle</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">degrees</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="n">y_dist</span><span class="p">,</span> <span class="n">x_dist</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">turret</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">turret_original</span><span class="p">,</span> <span class="n">angle</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">turret_rect</span> <span class="o">=</span> <span class="n">turret</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">turret</span><span class="p">,</span> <span class="n">turret_rect</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.2.2.4 对称变换 
    <div id="3224-对称变换" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3224-%e5%af%b9%e7%a7%b0%e5%8f%98%e6%8d%a2" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">help</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">flip</span><span class="p">)</span>
</span></span></code></pre></div><pre><code>Help on built-in function flip in module pygame.transform:

flip(...)
    flip(surface, flip_x, flip_y) -&gt; Surface
    flip vertically and horizontally
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">math</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># 初始化物体</span>
</span></span><span class="line"><span class="cl"><span class="n">dino</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&#34;assets/geometric-transformation/images/dino.png&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">x</span> <span class="o">=</span> <span class="mi">300</span>
</span></span><span class="line"><span class="cl"><span class="n">y</span> <span class="o">=</span> <span class="mi">200</span>
</span></span><span class="line"><span class="cl"><span class="c1"># 获取图片原始宽高</span>
</span></span><span class="line"><span class="cl"><span class="n">w</span> <span class="o">=</span> <span class="n">dino</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">h</span> <span class="o">=</span> <span class="n">dino</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">is_flip</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 旋转物体控制主循环 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">CRIMSON</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">pos</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">get_pos</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">key</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_LEFT</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">is_flip</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_RIGHT</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">is_flip</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">flipped_dino</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">dino</span><span class="p">,</span> <span class="n">is_flip</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">dino_rect</span> <span class="o">=</span> <span class="n">dino</span><span class="o">.</span><span class="n">get_rect</span><span class="p">(</span><span class="n">center</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">40</span> <span class="k">if</span> <span class="n">is_flip</span> <span class="k">else</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">flipped_dino</span><span class="p">,</span> <span class="n">dino_rect</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span></span></code></pre></div>
<h3 class="relative group">3.3 精灵图（Sprite） 
    <div id="33-精灵图sprite" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#33-%e7%b2%be%e7%81%b5%e5%9b%besprite" aria-label="锚点">#</a>
    </span>        
    
</h3>

<h4 class="relative group">3.3.1 精灵图集 
    <div id="331-精灵图集" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#331-%e7%b2%be%e7%81%b5%e5%9b%be%e9%9b%86" aria-label="锚点">#</a>
    </span>        
    
</h4>
<ul>
<li>
<p>Sprite sheet是按网格排列的精灵(Sprite)集合。然后将这些精灵(Sprite)编译成一个动画剪辑(Animation Clip)，按顺序播放每个精灵(Sprite)，以创建动画效果，就像翻书一样。</p>
</li>
<li>

<h4 class="relative group">3.3.1.2 加载精灵图集 
    <div id="3312-加载精灵图集" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3312-%e5%8a%a0%e8%bd%bd%e7%b2%be%e7%81%b5%e5%9b%be%e9%9b%86" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">help</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">)</span>
</span></span></code></pre></div><pre><code>Help on built-in function load in module pygame.image:

load(...)
    load(filename) -&gt; Surface
    load(fileobj, namehint=) -&gt; Surface
    load new image from a file (or file-like object)
</code></pre>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 加载资源 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s1">&#39;精灵图集&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">sprite_sheet_image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;assets/spritesheet/doux.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 定义精灵图集类并初始化 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">SpriteSheet</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">sheet</span> <span class="o">=</span> <span class="n">image</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="nf">get_image</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">colour</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="n">image</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sheet</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">((</span><span class="n">frame</span> <span class="o">*</span> <span class="n">width</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="n">width</span> <span class="o">*</span> <span class="n">scale</span><span class="p">,</span> <span class="n">height</span> <span class="o">*</span> <span class="n">scale</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="n">image</span><span class="o">.</span><span class="n">set_colorkey</span><span class="p">(</span><span class="n">colour</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">image</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">sprite_sheet</span> <span class="o">=</span> <span class="n">SpriteSheet</span><span class="p">(</span><span class="n">sprite_sheet_image</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 处理原始图集 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">BG</span> <span class="o">=</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">frame_0</span> <span class="o">=</span> <span class="n">sprite_sheet</span><span class="o">.</span><span class="n">get_image</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">frame_1</span> <span class="o">=</span> <span class="n">sprite_sheet</span><span class="o">.</span><span class="n">get_image</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">frame_2</span> <span class="o">=</span> <span class="n">sprite_sheet</span><span class="o">.</span><span class="n">get_image</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">frame_3</span> <span class="o">=</span> <span class="n">sprite_sheet</span><span class="o">.</span><span class="n">get_image</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 将处理后的图集绘制屏幕 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BG</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">frame_0</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">frame_1</span><span class="p">,</span> <span class="p">(</span><span class="mi">72</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">frame_2</span><span class="p">,</span> <span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">frame_3</span><span class="p">,</span> <span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">	<span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.3.1.2 动画帧实现 
    <div id="3312-动画帧实现" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#3312-%e5%8a%a8%e7%94%bb%e5%b8%a7%e5%ae%9e%e7%8e%b0" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
<li>
<p>3.3.1.2.1 基础图集动画</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 将图集加载在列表，方便动画制作 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">animation_list</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">animation_steps</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">action</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="n">last_update</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">get_ticks</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">animation_cooldown</span> <span class="o">=</span> <span class="mi">75</span>
</span></span><span class="line"><span class="cl"><span class="n">frame</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">step_counter</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">animation</span> <span class="ow">in</span> <span class="n">animation_steps</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">temp_img_list</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">animation</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="n">temp_img_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sprite_sheet</span><span class="o">.</span><span class="n">get_image</span><span class="p">(</span><span class="n">step_counter</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">24</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">BLACK</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="n">step_counter</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="n">animation_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp_img_list</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 实现动作逻辑&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="n">BG</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">current_time</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">get_ticks</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="n">current_time</span> <span class="o">-</span> <span class="n">last_update</span> <span class="o">&gt;=</span> <span class="n">animation_cooldown</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="n">frame</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">		<span class="n">last_update</span> <span class="o">=</span> <span class="n">current_time</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">frame</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">animation_list</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">			<span class="n">frame</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">	<span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">animation_list</span><span class="p">[</span><span class="n">action</span><span class="p">][</span><span class="n">frame</span><span class="p">],</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">	<span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div><ul>
<li>
<p>3.3.1.2.2 背景卷轴动画</p>
</li>
<li>
<p>背景卷轴是2D横版游戏的里程碑技术（Defender、Super Mario Bro）。</p>
</li>
<li>
<p>而实现2D卷轴，除了控制景深摄像机的移动之外还可以通过移动背景图实现卷轴效果.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 初始化程序窗体 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">FPS</span> <span class="o">=</span> <span class="mi">60</span>
</span></span><span class="line"><span class="cl"><span class="n">SCREEN_WIDTH</span> <span class="o">=</span> <span class="mi">800</span>
</span></span><span class="line"><span class="cl"><span class="n">SCREEN_HEIGHT</span> <span class="o">=</span> <span class="mi">432</span>
</span></span><span class="line"><span class="cl"><span class="n">screen</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s2">&#34;mmm&#34;</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 初始化卷轴动画相关素材 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">scroll</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">ground_image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&#34;assets/parallax/images/ground.png&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">ground_width</span> <span class="o">=</span> <span class="n">ground_image</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">ground_height</span> <span class="o">=</span> <span class="n">ground_image</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">bg_images</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="n">bg_image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;assets/parallax/images/plx-</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">.png&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">bg_images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">bg_image</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">bg_width</span> <span class="o">=</span> <span class="n">bg_images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 绘制背景相关方法 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">draw_bg</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">speed</span> <span class="o">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">bg_images</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="p">((</span><span class="n">x</span> <span class="o">*</span> <span class="n">bg_width</span><span class="p">)</span> <span class="o">-</span> <span class="n">scroll</span> <span class="o">*</span> <span class="n">speed</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">      <span class="n">speed</span> <span class="o">+=</span> <span class="mf">0.2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">draw_ground</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">ground_image</span><span class="p">,</span> <span class="p">((</span><span class="n">x</span> <span class="o">*</span> <span class="n">ground_width</span><span class="p">)</span> <span class="o">-</span> <span class="n">scroll</span> <span class="o">*</span> <span class="mf">2.5</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span> <span class="o">-</span> <span class="n">ground_height</span><span class="p">))</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 主程序循环 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">clock</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="n">FPS</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">draw_bg</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">draw_ground</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="n">key</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">key</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_LEFT</span><span class="p">]</span> <span class="ow">and</span> <span class="n">scroll</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">scroll</span> <span class="o">-=</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="n">key</span><span class="p">[</span><span class="n">pygame</span><span class="o">.</span><span class="n">K_RIGHT</span><span class="p">]</span> <span class="ow">and</span> <span class="n">scroll</span> <span class="o">&lt;</span> <span class="mi">3000</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">scroll</span> <span class="o">+=</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div>
<h3 class="relative group">3.4 UI 
    <div id="34-ui" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#34-ui" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>

<h4 class="relative group">3.4.1 导入所需库 
    <div id="341-导入所需库" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#341-%e5%af%bc%e5%85%a5%e6%89%80%e9%9c%80%e5%ba%93" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pygame</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">random</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.4.2 初始化窗体 
    <div id="342-初始化窗体" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#342-%e5%88%9d%e5%a7%8b%e5%8c%96%e7%aa%97%e4%bd%93" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">SCREEN_WIDTH</span> <span class="o">=</span> <span class="mi">800</span>
</span></span><span class="line"><span class="cl"><span class="n">SCREEN_HEIGHT</span> <span class="o">=</span> <span class="mi">450</span>
</span></span><span class="line"><span class="cl"><span class="n">screen</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="n">SCREEN_WIDTH</span><span class="p">,</span> <span class="n">SCREEN_HEIGHT</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s1">&#39;界面相关&#39;</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.4.3 资源加载 
    <div id="343-资源加载" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#343-%e8%b5%84%e6%ba%90%e5%8a%a0%e8%bd%bd" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">start_img</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;assets/ui_interation/images/start_btn.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">exit_img</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;assets/ui_interation/images/exit_btn.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">convert_alpha</span><span class="p">()</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.4.4 基础实体类 
    <div id="344-基础实体类" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#344-%e5%9f%ba%e7%a1%80%e5%ae%9e%e4%bd%93%e7%b1%bb" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Button</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">scale</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="n">width</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="n">height</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">width</span> <span class="o">*</span> <span class="n">scale</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">height</span> <span class="o">*</span> <span class="n">scale</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">topleft</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">clicked</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">surface</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="n">action</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">		<span class="n">pos</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">get_pos</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">collidepoint</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">clicked</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="bp">self</span><span class="o">.</span><span class="n">clicked</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">				<span class="n">action</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="bp">self</span><span class="o">.</span><span class="n">clicked</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">		<span class="n">surface</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">action</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">start_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="n">start_img</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">exit_button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="mi">450</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="n">exit_img</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.4.5 界面交互(按钮点击) 
    <div id="345-界面交互按钮点击" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#345-%e7%95%8c%e9%9d%a2%e4%ba%a4%e4%ba%92%e6%8c%89%e9%92%ae%e7%82%b9%e5%87%bb" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">202</span><span class="p">,</span> <span class="mi">228</span><span class="p">,</span> <span class="mi">241</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="n">start_button</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;开始按钮被点击&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="n">exit_button</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;退出按钮被点击&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">	<span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">3.3.6 界面交互（拖拽UI） 
    <div id="336-界面交互拖拽ui" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#336-%e7%95%8c%e9%9d%a2%e4%ba%a4%e4%ba%92%e6%8b%96%e6%8b%bdui" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 初始化放置物品 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">active_box</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl"><span class="n">boxes</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">  <span class="n">x</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">700</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">y</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">350</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">w</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">65</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">h</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">65</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">box</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">boxes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 实现碰撞检测和鼠标按键监听 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">  <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="s2">&#34;white&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">box</span> <span class="ow">in</span> <span class="n">boxes</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">pygame</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="s2">&#34;pink&#34;</span><span class="p">,</span> <span class="n">box</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">MOUSEBUTTONDOWN</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">num</span><span class="p">,</span> <span class="n">box</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">boxes</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">          <span class="k">if</span> <span class="n">box</span><span class="o">.</span><span class="n">collidepoint</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">pos</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="n">active_box</span> <span class="o">=</span> <span class="n">num</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">MOUSEBUTTONUP</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">active_box</span> <span class="o">=</span> <span class="kc">None</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">MOUSEMOTION</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="k">if</span> <span class="n">active_box</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">boxes</span><span class="p">[</span><span class="n">active_box</span><span class="p">]</span><span class="o">.</span><span class="n">move_ip</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">rel</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">      <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">  <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div>
<h3 class="relative group">3.4 音效 
    <div id="34-音效" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#34-%e9%9f%b3%e6%95%88" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>
<p>Pygame可以加载多种类型的音频文件，如WAV、MP3等。主要通过pygame.mixer模块来实现对音效的处理,该模块可以依据命令播放一个或多个声音，并且也可以将这些声音混合在一起。</p>
</li>
<li>
<p>pygame主要处理两种声音，一种是背景音乐，一种是音效。</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 播放音效</span>
</span></span><span class="line"><span class="cl"><span class="n">sound</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="s1">&#39;./assets/audio/bullet.wav&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">sound</span><span class="o">.</span><span class="n">set_volume</span><span class="p">(</span><span class="mf">0.9</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="n">sound</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 播放背景音乐</span>
</span></span><span class="line"><span class="cl"><span class="n">music</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">music</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;./assets/audio/mario.mp3&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">music</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 关闭背景音乐</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">music</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</span></span></code></pre></div>
<h1 class="relative group">四.项目实战 
    <div id="四项目实战" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#%e5%9b%9b%e9%a1%b9%e7%9b%ae%e5%ae%9e%e6%88%98" aria-label="锚点">#</a>
    </span>        
    
</h1>

<h3 class="relative group">4.1 分形图-模拟类 
    <div id="41-分形图-模拟类" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#41-%e5%88%86%e5%bd%a2%e5%9b%be-%e6%a8%a1%e6%8b%9f%e7%b1%bb" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>
<p>曼德勃罗集合（Mandelbrot set）是一个在复平面上定义的数学集合，以法国数学家Benoit Mandelbrot的名字命名。它是由一系列复数构成的，每个复数代表平面上的一个点。</p>
</li>
<li>
<p>曼德勃罗集合中的点具有特定的性质，对于某些点，当它们通过迭代计算的方式进行运算时，结果会趋于无穷大。而对于其他点，计算结果则会保持有限。其可以通过迭代计算来确定。对于每个复数c，我们将其作为初始值z0，并通过以下公式进行迭代计算：zn+1 = zn^2 + c。</p>
</li>
<li>
<p>在每次迭代中，我们将计算得到的结果作为下一次迭代的初始值，直到满足某个条件为止。如果在有限次迭代后，计算结果仍然保持有限，则认为该点属于曼德勃罗集合。</p>
</li>
<li>

<h4 class="relative group">4.1.1 初始化 
    <div id="411-初始化" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#411-%e5%88%9d%e5%a7%8b%e5%8c%96" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pygame</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">screen</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s2">&#34;Mandelbrot set&#34;</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">4.1.2 绘制方法 
    <div id="412-绘制方法" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#412-%e7%bb%98%e5%88%b6%e6%96%b9%e6%b3%95" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">fractal</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">400</span><span class="p">):</span> 
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">400</span><span class="p">):</span> 
</span></span><span class="line"><span class="cl">            <span class="n">zx</span><span class="p">,</span> <span class="n">zy</span> <span class="o">=</span> <span class="n">cx</span><span class="p">,</span> <span class="n">cy</span> <span class="o">=</span> <span class="o">-</span><span class="mi">2</span> <span class="o">+</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">x</span> <span class="o">/</span> <span class="mf">400.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.25</span> <span class="o">+</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">y</span> <span class="o">/</span> <span class="mf">400.0</span> 
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">25</span><span class="p">):</span> 
</span></span><span class="line"><span class="cl">                <span class="n">zx</span><span class="p">,</span> <span class="n">zy</span> <span class="o">=</span> <span class="n">zx</span> <span class="o">*</span> <span class="n">zx</span> <span class="o">-</span> <span class="n">zy</span> <span class="o">*</span> <span class="n">zy</span> <span class="o">+</span> <span class="n">cx</span><span class="p">,</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">zx</span> <span class="o">*</span> <span class="n">zy</span> <span class="o">+</span> <span class="n">cy</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">zx</span> <span class="o">*</span> <span class="n">zx</span> <span class="o">+</span> <span class="n">zy</span> <span class="o">*</span> <span class="n">zy</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span> 
</span></span><span class="line"><span class="cl">                    <span class="k">break</span>
</span></span><span class="line"><span class="cl">                <span class="n">screen</span><span class="o">.</span><span class="n">set_at</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">((</span><span class="mi">250</span> <span class="o">-</span> <span class="mi">25</span> <span class="o">*</span> <span class="n">i</span><span class="p">)</span> <span class="o">*</span> <span class="mh">0x10101</span><span class="p">))</span> 
</span></span><span class="line"><span class="cl">    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span> 
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">4.1.3 程序逻辑 
    <div id="413-程序逻辑" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#413-%e7%a8%8b%e5%ba%8f%e9%80%bb%e8%be%91" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">fractal</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div>
<h3 class="relative group">4.2 flappy Bird-游戏类 
    <div id="42-flappy-bird-游戏类" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#42-flappy-bird-%e6%b8%b8%e6%88%8f%e7%b1%bb" aria-label="锚点">#</a>
    </span>        
    
</h3>
<ul>
<li>
<p>Flappy Bird 是一款由越南游戏开发者Dong Nguyen开发的简单但受欢迎的手机游戏。游戏于2013年5月发布，迅速在全球范围内走红。</p>
</li>
<li>
<p>游戏的玩法非常简单，玩家需要控制一只小鸟通过不断上下移动的管道障碍物。玩家通过点击屏幕使小鸟上升，松开手指则小鸟下降，需要巧妙地掌握时机和力度，避免撞到管道或掉落到地面上。游戏的目标是尽可能地飞过更多的管道，获取更高的分数。</p>
</li>
<li>

<h4 class="relative group">4.2.1 导入所需库以及初始化 
    <div id="421-导入所需库以及初始化" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#421-%e5%af%bc%e5%85%a5%e6%89%80%e9%9c%80%e5%ba%93%e4%bb%a5%e5%8f%8a%e5%88%9d%e5%a7%8b%e5%8c%96" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># 导入需要的库</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">pygame</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">pygame.locals</span> <span class="kn">import</span> <span class="o">*</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">random</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">4.2.2 窗体初始化 
    <div id="422-窗体初始化" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#422-%e7%aa%97%e4%bd%93%e5%88%9d%e5%a7%8b%e5%8c%96" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">clock</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">fps</span> <span class="o">=</span> <span class="mi">60</span>
</span></span><span class="line"><span class="cl"><span class="n">screen_width</span> <span class="o">=</span> <span class="mi">864</span>
</span></span><span class="line"><span class="cl"><span class="n">screen_height</span> <span class="o">=</span> <span class="mi">936</span>
</span></span><span class="line"><span class="cl"><span class="n">screen</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="n">screen_width</span><span class="p">,</span> <span class="n">screen_height</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s1">&#39;Flappy Bird&#39;</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">font</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">SysFont</span><span class="p">(</span><span class="s1">&#39;Bauhaus 93&#39;</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">white</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ground_scroll</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">scroll_speed</span> <span class="o">=</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl"><span class="n">flying</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl"><span class="n">game_over</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl"><span class="n">pipe_gap</span> <span class="o">=</span> <span class="mi">150</span>
</span></span><span class="line"><span class="cl"><span class="n">pipe_frequency</span> <span class="o">=</span> <span class="mi">1500</span>
</span></span><span class="line"><span class="cl"><span class="n">last_pipe</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">get_ticks</span><span class="p">()</span> <span class="o">-</span> <span class="n">pipe_frequency</span>
</span></span><span class="line"><span class="cl"><span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">pass_pipe</span> <span class="o">=</span> <span class="kc">False</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">bg</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;assets/flappybird/images/bg.png&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">ground_img</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;assets/flappybird/images/ground.png&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">button_img</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;assets/flappybird/images/restart.png&#39;</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">4.2.3 实体类 
    <div id="423-实体类" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#423-%e5%ae%9e%e4%bd%93%e7%b1%bb" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 小鸟类 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Bird</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">Sprite</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="n">pygame</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">Sprite</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">images</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">		<span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">			<span class="n">img</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;assets/flappybird/images/bird</span><span class="si">{</span><span class="n">num</span><span class="si">}</span><span class="s1">.png&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">vel</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">clicked</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">flying</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="bp">self</span><span class="o">.</span><span class="n">vel</span> <span class="o">+=</span> <span class="mf">0.5</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vel</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="bp">self</span><span class="o">.</span><span class="n">vel</span> <span class="o">=</span> <span class="mi">8</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&lt;</span> <span class="mi">768</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">+=</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vel</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">game_over</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">clicked</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="bp">self</span><span class="o">.</span><span class="n">clicked</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">				<span class="bp">self</span><span class="o">.</span><span class="n">vel</span> <span class="o">=</span> <span class="o">-</span><span class="mi">10</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="bp">self</span><span class="o">.</span><span class="n">clicked</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">			<span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">			<span class="n">flap_cooldown</span> <span class="o">=</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">&gt;</span> <span class="n">flap_cooldown</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="bp">self</span><span class="o">.</span><span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">				<span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">				<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">					<span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">			<span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">			<span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">vel</span> <span class="o">*</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="k">else</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">],</span> <span class="o">-</span><span class="mi">90</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 管道类 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Pipe</span><span class="p">(</span><span class="n">pygame</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">Sprite</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">position</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="n">pygame</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">Sprite</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;assets/flappybird/images/pipe.png&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">transform</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottomleft</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">pipe_gap</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">position</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">topleft</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">pipe_gap</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">-=</span> <span class="n">scroll_speed</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="bp">self</span><span class="o">.</span><span class="n">kill</span><span class="p">()</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 界面按钮类 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Button</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">image</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">get_rect</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">topleft</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">		<span class="n">action</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">		<span class="n">pos</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">get_pos</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">collidepoint</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="n">pygame</span><span class="o">.</span><span class="n">mouse</span><span class="o">.</span><span class="n">get_pressed</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="n">action</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">		<span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">,</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="k">return</span> <span class="n">action</span>
</span></span></code></pre></div><ul>
<li>

<h4 class="relative group">4.2.4 游戏逻辑 
    <div id="424-游戏逻辑" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href="#424-%e6%b8%b8%e6%88%8f%e9%80%bb%e8%be%91" aria-label="锚点">#</a>
    </span>        
    
</h4>
</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 初始化游戏对象 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">bird_group</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">Group</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">pipe_group</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">Group</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="n">flappy</span> <span class="o">=</span> <span class="n">Bird</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">screen_height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">bird_group</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">flappy</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">button</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="n">screen_width</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">50</span><span class="p">,</span> <span class="n">screen_height</span> <span class="o">//</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">100</span><span class="p">,</span> <span class="n">button_img</span><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 绘制文字 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">draw_text</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">font</span><span class="p">,</span> <span class="n">text_col</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">	<span class="n">img</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">text_col</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 重置游戏 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">reset_game</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">	<span class="n">pipe_group</span><span class="o">.</span><span class="n">empty</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="n">flappy</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl">	<span class="n">flappy</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">screen_height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">score</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="k">return</span> <span class="n">score</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34; 游戏循环 &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">run</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl"><span class="k">while</span> <span class="n">run</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">	<span class="n">clock</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="n">fps</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">bg</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="n">bird_group</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">bird_group</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="n">pipe_group</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">ground_img</span><span class="p">,</span> <span class="p">(</span><span class="n">ground_scroll</span><span class="p">,</span> <span class="mi">768</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">pipe_group</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">bird_group</span><span class="o">.</span><span class="n">sprites</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">left</span> <span class="o">&gt;</span> <span class="n">pipe_group</span><span class="o">.</span><span class="n">sprites</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">left</span>\
</span></span><span class="line"><span class="cl">			<span class="ow">and</span> <span class="n">bird_group</span><span class="o">.</span><span class="n">sprites</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span> <span class="o">&lt;</span> <span class="n">pipe_group</span><span class="o">.</span><span class="n">sprites</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span>\
</span></span><span class="line"><span class="cl">			<span class="ow">and</span> <span class="n">pass_pipe</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">pass_pipe</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">pass_pipe</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="k">if</span> <span class="n">bird_group</span><span class="o">.</span><span class="n">sprites</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">left</span> <span class="o">&gt;</span> <span class="n">pipe_group</span><span class="o">.</span><span class="n">sprites</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">				<span class="n">score</span> <span class="o">+=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">				<span class="n">pass_pipe</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">	<span class="n">draw_text</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">score</span><span class="p">),</span> <span class="n">font</span><span class="p">,</span> <span class="n">white</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">screen_width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">20</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="n">pygame</span><span class="o">.</span><span class="n">sprite</span><span class="o">.</span><span class="n">groupcollide</span><span class="p">(</span><span class="n">bird_group</span><span class="p">,</span> <span class="n">pipe_group</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span> <span class="ow">or</span> <span class="n">flappy</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">top</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="n">game_over</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="n">flappy</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">bottom</span> <span class="o">&gt;=</span> <span class="mi">768</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="n">game_over</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">		<span class="n">flying</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="ow">not</span> <span class="n">game_over</span> <span class="ow">and</span> <span class="n">flying</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="n">time_now</span> <span class="o">=</span> <span class="n">pygame</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">get_ticks</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">time_now</span> <span class="o">-</span> <span class="n">last_pipe</span> <span class="o">&gt;</span> <span class="n">pipe_frequency</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">pipe_height</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="n">btm_pipe</span> <span class="o">=</span> <span class="n">Pipe</span><span class="p">(</span><span class="n">screen_width</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">screen_height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">pipe_height</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="n">top_pipe</span> <span class="o">=</span> <span class="n">Pipe</span><span class="p">(</span><span class="n">screen_width</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">screen_height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">pipe_height</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="n">pipe_group</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">btm_pipe</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="n">pipe_group</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">top_pipe</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">			<span class="n">last_pipe</span> <span class="o">=</span> <span class="n">time_now</span>
</span></span><span class="line"><span class="cl">		<span class="n">ground_scroll</span> <span class="o">-=</span> <span class="n">scroll_speed</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="nb">abs</span><span class="p">(</span><span class="n">ground_scroll</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">35</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">ground_scroll</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">		<span class="n">pipe_group</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="n">game_over</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">button</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">game_over</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">			<span class="n">score</span> <span class="o">=</span> <span class="n">reset_game</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">run</span> <span class="o">=</span> <span class="kc">False</span>
</span></span><span class="line"><span class="cl">		<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">MOUSEBUTTONDOWN</span> <span class="ow">and</span> <span class="n">flying</span> <span class="o">==</span> <span class="kc">False</span> <span class="ow">and</span> <span class="n">game_over</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">			<span class="n">flying</span> <span class="o">=</span> <span class="kc">True</span>
</span></span><span class="line"><span class="cl">	<span class="n">pygame</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">pygame</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
</span></span></code></pre></div>
          
          
          
        </div>

        

        

        

        

      </div>

      
      
        
        
          
          
        
        
        
        <script
          type="text/javascript"
          src="/js/page.min.407e5b2727c1f241c95d53db24c776bea71bfc18e09511b815d669ad8caca6e9e18a53864ad364b1ccccfa2f2956768d33cfe193bfb64d3406f3b5ece354ba57.js"
          integrity="sha512-QH5bJyfB8kHJXVPbJMd2vqcb/BjglRG4FdZprYyspunhilOGStNksczM&#43;i8pVnaNM8/hk7&#43;2TTQG87Xs41S6Vw=="
          data-oid="views_thoughts/pygame-tutorials/index.md"
          data-oid-likes="likes_thoughts/pygame-tutorials/index.md"></script>
      

    </section>
    <footer class="pt-8 max-w-prose print:hidden">
      
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600">
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="flex group mr-3" href="/thoughts/vr-dev-tool/">
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span class="flex flex-col">
                <span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >VR开发概述</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2024-09-10T14:00:51&#43;08:00">2024-09-10</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
        </span>
      </div>
    </div>
  


      
        
          
        
      
    </footer>
  </article>

        <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a
    href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="返回顶部"
    title="返回顶部">
    &uarr;
  </a>
</div>

      </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
      <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400">
        <ul class="flex flex-col list-none sm:flex-row">
          
            <li
              class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
              <a
                class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center"
                href="/tags/"
                title="标签">
                
                标签
              </a>
            </li>
          
            <li
              class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
              <a
                class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center"
                href=""
                title="">
                
                关于
              </a>
            </li>
          
        </ul>
      </nav>
    
  
  <div class="flex items-center justify-between">
    
    
      <p class="text-sm text-neutral-500 dark:text-neutral-400">
          <span class='inline-block'> Z的枯燥生活 © 2025 </span> <a href='https://beian.miit.gov.cn'>粤ICP备2024319385号-1</a></span>.
      </p>
    

    
    
      <p class="text-xs text-neutral-500 dark:text-neutral-400">
        
        
        由 <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
          href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
          href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a> 强力驱动
      </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script> 
  
  <script
    type="text/javascript"
    src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js"
    integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
    
<style>
  #music-player {
    position: fixed;
    bottom: 25px;
    right: 25px;
    background-color: white;
    color: #333;
    padding: 4px;
    border-radius: 50%;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    z-index: 9999;
    width: 50px;
    height: 50px;
    display: none;
    transition: all 0.3s ease;
    transform-origin: center;
  }
  
  #music-player.dark-mode {
    background-color: #333;
    color: #eee;
  }
  
  .player-controls {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    width: 100%;
  }
  
  .close-button {
    position: absolute;
    top: -8px;
    right: -8px;
    background-color: #fff;
    border: none;
    cursor: pointer;
    color: #666;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    transition: all 0.2s ease;
    font-size: 10px;
    padding: 0;
    z-index: 10000;
  }
  
  .dark-mode .close-button {
    background-color: #333;
    color: #999;
  }
  
  .close-button:hover {
    background-color: #f0f0f0;
    color: #cc0000;
    transform: scale(1.1);
  }
  
  .dark-mode .close-button:hover {
    background-color: #444;
    color: #ff6666;
  }
  
  .control-button {
    background: none;
    border: none;
    cursor: pointer;
    color: #666;
    width: 42px;
    height: 42px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
  }
  
  .control-button:hover {
    color: #0066cc;
    transform: scale(1.1);
  }
  
  .dark-mode .control-button {
    color: #999;
  }
  
  .dark-mode .control-button:hover {
    color: #3399ff;
  }
  
  .now-playing-dot {
    position: absolute;
    right: -3px;
    bottom: -3px;
    width: 12px;
    height: 12px;
    background-color: #4CAF50;
    border-radius: 50%;
    box-shadow: 0 0 0 2px white;
    animation: pulse 1.5s infinite;
  }
  
  .dark-mode .now-playing-dot {
    box-shadow: 0 0 0 2px #333;
  }
  
  @keyframes pulse {
    0% {
      transform: scale(0.95);
      box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7);
    }
    
    70% {
      transform: scale(1);
      box-shadow: 0 0 0 5px rgba(76, 175, 80, 0);
    }
    
    100% {
      transform: scale(0.95);
      box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);
    }
  }
  
   
  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.7); }
    to { opacity: 1; transform: scale(1); }
  }
  
  @keyframes fadeOut {
    from { opacity: 1; transform: scale(1); }
    to { opacity: 0; transform: scale(0.7); }
  }
  
  .fade-in {
    animation: fadeIn 0.3s forwards;
  }
  
  .fade-out {
    animation: fadeOut 0.3s forwards;
  }
  
  .play-music-button {
    background: none;
    border: none;
    cursor: pointer;
    color: #666;
    margin-left: 8px;
    padding: 4px;
    border-radius: 50%;
    transition: all 0.2s ease;
  }
  
  .play-music-button:hover {
    background-color: rgba(0,0,0,0.1);
    color: #0066cc;
    transform: scale(1.1);
  }
  
  .dark-mode .play-music-button,
  .dark .play-music-button {
    color: #999;
  }
  
  .dark-mode .play-music-button:hover,
  .dark .play-music-button:hover {
    background-color: rgba(255,255,255,0.1);
    color: #3399ff;
  }
  
   
  .play-music-button.playing svg path:last-child {
    d: path('M5 6.25a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5zm3.5 0a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5z');
  }
  
   
  #audio-player {
    display: none;
  }
  
   
  @media (max-width: 768px) {
    #music-player {
      bottom: 15px;
      right: 15px;
      width: 45px;
      height: 45px;
    }
    
    .control-button {
      width: 38px;
      height: 38px;
    }
    
    .control-button svg {
      width: 24px;
      height: 24px;
    }
    
    .close-button {
      width: 18px;
      height: 18px;
      top: -6px;
      right: -6px;
    }
    
    .close-button svg {
      width: 10px;
      height: 10px;
    }
    
    .now-playing-dot {
      width: 10px;
      height: 10px;
    }
  }
  
  @media (max-width: 480px) {
    #music-player {
      bottom: 12px;
      right: 12px;
      width: 40px;
      height: 40px;
      padding: 3px;
    }
    
    .control-button {
      width: 34px;
      height: 34px;
    }
    
    .control-button svg {
      width: 22px;
      height: 22px;
    }
  }
</style>

<div id="music-player">
  <button id="close-player" class="close-button" title="关闭播放器">
    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 16 16">
      <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  </button>
  
  <div class="player-controls">
    <button id="play-pause" class="control-button" title="播放/暂停">
      <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
        <path d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z"/>
      </svg>
    </button>
  </div>
  
  <div class="now-playing-dot"></div>
  
  <audio id="audio-player">
    <source id="audio-source" src="/music/Toby Fox - Fallen Down (Reprise).mp3" type="audio/mpeg">
    您的浏览器不支持音频播放。
  </audio>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    
    function detectDarkMode() {
      if (document.documentElement.classList.contains('dark') || 
          window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.getElementById('music-player').classList.add('dark-mode');
      }
    }
    
    
    const defaultPlaylist = [
      { title: "Fallen Down (Reprise)", artist: "Toby Fox", src: "/music/Toby Fox - Fallen Down (Reprise).mp3" },
      { title: "Home", artist: "Disasterpeace", src: "/music/Disasterpeace - Home.mp3" },
      { title: "Time Passes", artist: "Kevin MacLeod", src: "/music/Kevin MacLeod - Time Passes.mp3" }
    ];
    
    
    let currentPlaylist = [...defaultPlaylist];
    
    
    let currentSongIndex = 0;
    
    
    let activeButton = null;
    
    
    let currentMusicFile = null;
    
    
    let activeCard = null;
    
    
    const musicPlayer = document.getElementById('music-player');
    const audioPlayer = document.getElementById('audio-player');
    const audioSource = document.getElementById('audio-source');
    const playPauseBtn = document.getElementById('play-pause');
    const closePlayerBtn = document.getElementById('close-player');
    
    
    function loadSong(index) {
      const song = currentPlaylist[index];
      
      playPauseBtn.setAttribute('title', `${song.title} - ${song.artist}`);
      audioSource.src = song.src;
      currentMusicFile = song.src.split('/').pop();
      audioPlayer.load();
    }
    
    
    playPauseBtn.addEventListener('click', function() {
      if (audioPlayer.paused) {
        audioPlayer.play();
        playPauseBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M5 6.25a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5zm3.5 0a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5z"/></svg>';
        
        if (activeButton) {
          updateButtonState(activeButton, true);
        }
      } else {
        audioPlayer.pause();
        playPauseBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z"/></svg>';
        
        if (activeButton) {
          updateButtonState(activeButton, false);
        }
      }
    });
    
    
    closePlayerBtn.addEventListener('click', function() {
      musicPlayer.classList.add('fade-out');
      
      
      setTimeout(function() {
        musicPlayer.style.display = 'none';
        musicPlayer.classList.remove('fade-out');
        
        audioPlayer.pause();
        
        if (activeButton) {
          updateButtonState(activeButton, false);
          activeButton = null;
        }
        
        if (activeCard) {
          updateButtonState(activeCard, false);
          activeCard = null;
        }
      }, 300);
    });
    
    
    audioPlayer.addEventListener('ended', function() {
      currentSongIndex = (currentSongIndex + 1) % currentPlaylist.length;
      loadSong(currentSongIndex);
      audioPlayer.play();
    });
    
    
    function updateButtonState(button, isPlaying) {
      if (button.classList.contains('play-music-button')) {
        
        if (isPlaying) {
          button.classList.add('playing');
          button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M5 6.25a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5zm3.5 0a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5z"/></svg>';
        } else {
          button.classList.remove('playing');
          button.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z"/></svg>';
        }
      } else if (button.classList.contains('post-content')) {
        
        if (isPlaying) {
          button.classList.add('playing');
        } else {
          button.classList.remove('playing');
        }
      }
    }
    
    
    loadSong(currentSongIndex);
    
    
    detectDarkMode();
    
    
    const observer = new MutationObserver(function(mutations) {
      mutations.forEach(function(mutation) {
        if (mutation.attributeName === 'class') {
          detectDarkMode();
        }
      });
    });
    
    observer.observe(document.documentElement, {
      attributes: true
    });
    
    
    window.togglePostMusic = function(button, title, artist, file) {
      
      const musicFile = file.replace(/^\/music\//, '');
      
      
      const isSameMusic = currentMusicFile === musicFile;
      
      
      const isPlaying = !audioPlayer.paused;
      
      
      if (activeButton && activeButton !== button) {
        updateButtonState(activeButton, false);
      }
      
      
      if (button.classList.contains('post-content')) {
        
        if (activeCard && activeCard !== button) {
          updateButtonState(activeCard, false);
        }
        activeCard = button;
      } else {
        
        activeButton = button;
      }
      
      
      musicPlayer.classList.remove('fade-in');
      if (musicPlayer.style.display === 'none' || !musicPlayer.style.display) {
        musicPlayer.style.display = 'flex';
        musicPlayer.classList.add('fade-in');
      }
      
      
      if (isSameMusic) {
        
        if (isPlaying) {
          
          audioPlayer.pause();
          playPauseBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z"/></svg>';
          
          if (activeCard) updateButtonState(activeCard, false);
          if (activeButton) updateButtonState(activeButton, false);
        } else {
          
          audioPlayer.play();
          playPauseBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M5 6.25a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5zm3.5 0a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5z"/></svg>';
          
          if (activeCard) updateButtonState(activeCard, true);
          if (activeButton) updateButtonState(activeButton, true);
        }
      } else {
        
        currentPlaylist = [{ 
          title: title, 
          artist: artist, 
          src: '/music/' + file 
        }];
        currentSongIndex = 0;
        loadSong(0);
        audioPlayer.play();
        playPauseBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M5 6.25a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5zm3.5 0a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5z"/></svg>';
        
        if (activeCard) updateButtonState(activeCard, true);
        if (activeButton) updateButtonState(activeButton, true);
      }
    };
    
    
    window.playPostMusic = function(title, artist, file) {
      musicPlayer.classList.remove('fade-in');
      
      if (musicPlayer.style.display === 'none' || !musicPlayer.style.display) {
        musicPlayer.style.display = 'flex';
        musicPlayer.classList.add('fade-in');
      }
      
      if (title && artist && file) {
        currentPlaylist = [{ 
          title: title, 
          artist: artist, 
          src: '/music/' + file 
        }];
        currentSongIndex = 0;
        loadSong(0);
        audioPlayer.play();
        playPauseBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M5 6.25a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5zm3.5 0a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5z"/></svg>';
      } else {
        currentPlaylist = [...defaultPlaylist];
        currentSongIndex = 0;
        loadSong(0);
        audioPlayer.play();
        playPauseBtn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M5 6.25a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5zm3.5 0a1.25 1.25 0 1 1 2.5 0v3.5a1.25 1.25 0 1 1-2.5 0v-3.5z"/></svg>';
      }
    };
    
    
    document.addEventListener('keydown', function(e) {
      
      if (musicPlayer.style.display === 'flex') {
        
        if (e.code === 'Space' && e.target === document.body) {
          e.preventDefault(); 
          playPauseBtn.click();
        }
        
        else if (e.code === 'Escape') {
          closePlayerBtn.click();
        }
      }
    });
    
    
    audioPlayer.addEventListener('play', function() {
      if (activeButton) {
        updateButtonState(activeButton, true);
      }
      if (activeCard) {
        updateButtonState(activeCard, true);
      }
    });
    
    audioPlayer.addEventListener('pause', function() {
      if (activeButton) {
        updateButtonState(activeButton, false);
      }
      if (activeCard) {
        updateButtonState(activeCard, false);
      }
    });
  });
</script>  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh] z-index-500"
  data-url="//localhost:1313/">
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800">
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder="搜索"
          tabindex="0">
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title="关闭 (Esc)">
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

    </div>
  </body>
  
</html>
